{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","galleryList","document","querySelector","lightbox","overlay","lightboxImgEl","btnCloseEl","galleryMarkup","makeGalleryMarkup","galleryItems","images","map","join","insertAdjacentHTML","addEventListener","onLightboxOpenClick","imageClose","arrGalleryList","querySelectorAll","arrGalleryListCopy","e","preventDefault","imgClick","target","nodeName","imageOpen","dataset","source","alt","image","classList","add","src","index","indexOf","window","onLightboxChangeByKey","remove","removeAttribute","removeEventListener","code","lightboxImageMove","step","currentIndex","afterStepIndex","Number","length","console","log"],"mappings":"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","file":"src.0b306244.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","import './sass/main.scss';\r\n\r\nimport galleryItems from './js/gallery-items';\r\n\r\nconst galleryList = document.querySelector('ul.js-gallery');\r\nconst lightbox = document.querySelector('.js-lightbox');\r\nconst overlay = document.querySelector('.lightbox__overlay');\r\nconst lightboxImgEl = document.querySelector('img.lightbox__image');\r\nconst btnCloseEl = document.querySelector(\r\n  'button[data-action=\"close-lightbox\"]',\r\n);\r\n\r\nconst galleryMarkup = makeGalleryMarkup(galleryItems);\r\n\r\ngalleryList.insertAdjacentHTML('beforeend', galleryMarkup);\r\n\r\ngalleryList.addEventListener('click', onLightboxOpenClick);\r\nbtnCloseEl.addEventListener('click', imageClose);\r\noverlay.addEventListener('click', imageClose);\r\n\r\nfunction makeGalleryMarkup(images) {\r\n  return images\r\n    .map(({ preview, original, description }) => {\r\n      return `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>`;\r\n    })\r\n    .join('');\r\n}\r\n\r\nconst arrGalleryList = galleryList.querySelectorAll('.gallery__image');\r\nconst arrGalleryListCopy = [...arrGalleryList];\r\n\r\nconsole.log(arrGalleryList);\r\n\r\nfunction onLightboxOpenClick(e) {\r\n  e.preventDefault();\r\n\r\n  const imgClick = e.target;\r\n  if (imgClick.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n\r\n  imageOpen(imgClick.dataset.source, imgClick.alt, imgClick);\r\n}\r\n\r\nfunction imageOpen(source, alt, image) {\r\n  lightbox.classList.add('is-open');\r\n\r\n  lightboxImgEl.src = source;\r\n  lightboxImgEl.alt = alt;\r\n\r\n  lightboxImgEl.dataset.index = arrGalleryListCopy.indexOf(image);\r\n\r\n  window.addEventListener('keydown', onLightboxChangeByKey);\r\n}\r\n\r\nfunction imageClose() {\r\n  lightbox.classList.remove('is-open');\r\n\r\n  lightboxImgEl.src = '';\r\n  lightboxImgEl.alt = '';\r\n\r\n  lightboxImgEl.removeAttribute('data-index');\r\n\r\n  window.removeEventListener('keydown', onLightboxChangeByKey);\r\n}\r\n\r\nfunction onLightboxChangeByKey(e) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  const ARROW_LEFT_KEY_CODE = 'ArrowLeft';\r\n  const ARROW_RIGHT_KEY_CODE = 'ArrowRight';\r\n\r\n  if (e.code === ESC_KEY_CODE) {\r\n    imageClose();\r\n  }\r\n\r\n  if (e.code === ARROW_LEFT_KEY_CODE) {\r\n    lightboxImageMove(-1);\r\n  }\r\n\r\n  if (e.code === ARROW_RIGHT_KEY_CODE) {\r\n    lightboxImageMove(1);\r\n  }\r\n}\r\n\r\nfunction lightboxImageMove(step) {\r\n  const currentIndex = Number(lightboxImgEl.dataset.index);\r\n  let afterStepIndex = currentIndex + step;\r\n\r\n  if (afterStepIndex < 0) {\r\n    afterStepIndex = arrGalleryListCopy.length - 1;\r\n  }\r\n\r\n  if (afterStepIndex > arrGalleryListCopy.length - 1) {\r\n    afterStepIndex = 0;\r\n  }\r\n\r\n  lightboxImgEl.src = arrGalleryListCopy[afterStepIndex].dataset.source;\r\n  lightboxImgEl.alt = arrGalleryListCopy[afterStepIndex].alt;\r\n  lightboxImgEl.dataset.index = afterStepIndex;\r\n}\r\n"]}