{"version":3,"sources":["js/gallery-items.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["preview","original","description","galleryList","document","querySelector","lightbox","overlay","lightboxImgEl","btnCloseEl","galleryMarkup","makeGalleryMarkup","galleryItems","insertAdjacentHTML","addEventListener","onLightboxOpenClick","imageClose","images","map","join","arrGalleryList","querySelectorAll","arrGalleryListCopy","console","log","e","preventDefault","imgClick","target","nodeName","imageOpen","dataset","source","alt","image","classList","add","src","index","indexOf","window","onLightboxChangeByKey","remove","removeAttribute","removeEventListener","ESC_KEY_CODE","ARROW_LEFT_KEY_CODE","ARROW_RIGHT_KEY_CODE","code","lightboxImageMove","step","currentIndex","Number","afterStepIndex","length","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","module"],"mappings":"AEAA,ACAA,IDAIuD,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADDJ,ICCIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAAC5B,MAAL,AHLW,CACb;AEKA,ACAC,AHJC1C,EAAAA,CGEF,MDEOuD,AFJE,EACL,OEGJ,+EFLA;AEMD,AFHGtD,EAAAA,QAAQ,EACN,sFAJJ;AGMAsE,AHDErE,EGCFqE,AHDErE,OGCK,CAACwE,GHDK,CGCb,CHDe,EGCAJ,IAAI,CAACI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEP,AHPA,CADa,CGQbA,CHAA,GGAI,CAACQ,EDCErB,QCDP,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;ADEA,ACDD,AHAGhF,EAAAA,OAAO,EACL,2EAFJ;AEGA,AFAEC,EAAAA,IEAE,IFAM,EACN,2EAJJ;AEIE,ACDJ,AHEIC,EAAAA,EGFA+E,MDCM,GFCK,CEDDvB,ACDA,CHEG,EGFA,EDCP,EAAN,ACDJ;ADEG,AFLD,CARa,EEWb,AFIA,CEFE,OAAOC,GAAP,EAAY;AACZ,ACFJ,AHII3D,EAAAA,MEFI4D,CCFCsB,AHIE,EACL,IEHS,GAAG,ACFlB,CDEmB,ECFE,GDEGvB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,yCFCvC,sBEDgB,CAAd;ACDF,AHKE7D,EAAAA,IGLEgF,IHKM,EACN,IGNJ,EAAgB,iEHEhB;AEAE,ACDA,AHMA/E,EAAAA,MELI0D,KFKO,EELX,AFKa,EELA;AACX,ACDH,AHAD,CAfa,EAsBb,UENWG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,AFMD5D,EAAAA,OAAO,EACL,yEAFJ;AEJC,ACDDiF,AFbF,ADqBIhF,EGRFgF,AHQEhF,ECrBEE,MDqBM,EGRA,AHSN,GGTSgF,AFbE,GAAG/E,OEaK,CAAC,AFbE,CAACC,WEaS,EFblB,CAAuB,eAAvB,CAApB,4BDkBE;AGJE,AFbJ,ADsBIH,EAAAA,ECtBEI,IEaE8E,IFbM,CEaD,AHSE,ECtBEhF,ADsBA,CGTDA,OFbS,CEaD,AFbEC,CEaDgB,YFbR,CAAuB,GEaxB,CAA0B,UFbzB,CAAjB,aEagB,CAAZ;ADEF,ADdF,ADgBE,CAtBa,EA6Bb,CCvBId,KCcG,EDdI,CCcX,EDdcH,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAhB;ACeC,ACFG,AFZJ,ADuBIL,EAAAA,ECvBEQ,KEYG,AHWE,EACL,EGZO6E,CAAC,GAAG,AFZE,CEYf,EAAgBA,AFZEjF,CEYD,GAAGgF,IFZM,CEYD,AFZE/E,CEYDiD,MAA1B,EAAkC+B,CAAC,EAAnC,CFZkB,CEYqB,AFZE,qBAAvB,CAAtB,qBDsBE;AGTI,AFZN,ADwBIpF,EAAAA,ECxBEQ,MEYI0D,AHYE,EACN,ECzBU,EEYA,CAACJ,AFZE3D,QAAQ,CAACC,CEYlB,CAAkB+E,KAAK,CAACC,CAAD,CAAL,CAASX,EFZlB,CACjB,CEWQ,MAAqCP,MAAM,CAACV,YAAP,EAAzC,EAAgE,QFZnD,CAAnB,QDqBE;AENF,ACFQY,AFTR,ADsBInE,EAAAA,ECtBEQ,IESE2D,CDECN,IFWM,EAAE,ECtBE,CESD,CDElB,ACFmBqB,CDECpB,ADXErD,GCWtB,CCFwB,CDEC,ACFA0E,CAAD,CAAN,CAAV,SFT+B,CAACzE,qBAAD,CAAvC;ACYE,ACFK,AFRPT,ADeE,CA7Ba,EAoCb,MEZO,CAAC,CDVC,CAACU,GCUGmD,GAAN,EAAWC,OAAX,CAAmB,EDV5B,CAA+B,WAA/B,EAA4CvD,aAA5C,mDCUS,EAAqG,IAArG,IAA6G,GAApH;AACD,ACFI,AFPLP,ADqBIH,EAAAA,OAAO,ECrBA,ADsBL,CCtBMc,gBAAZ,CAA6B,OAA7B,EAAsCC,mBAAtC,6BDoBE;ACnBFN,ADsBIR,E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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\r\n    description: \"Hokkaido Flower\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n    description: \"Container Haulage Freight\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n    description: \"Aerial Beach View\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n    description: \"Flower Blooms\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n    description: \"Alpine Mountains\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n    description: \"Mountain Lake Sailing\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n    description: \"Alpine Spring Meadows\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n    description: \"Nature Landscape\",\r\n  },\r\n  {\r\n    preview:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n    original:\r\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n    description: \"Lighthouse Coast Sea\",\r\n  },\r\n];\r\n","import './sass/main.scss';\r\n\r\nimport galleryItems from './js/gallery-items';\r\n\r\nconst galleryList = document.querySelector('ul.js-gallery');\r\nconst lightbox = document.querySelector('.js-lightbox');\r\nconst overlay = document.querySelector('.lightbox__overlay');\r\nconst lightboxImgEl = document.querySelector('img.lightbox__image');\r\nconst btnCloseEl = document.querySelector(\r\n  'button[data-action=\"close-lightbox\"]',\r\n);\r\n\r\nconst galleryMarkup = makeGalleryMarkup(galleryItems);\r\n\r\ngalleryList.insertAdjacentHTML('beforeend', galleryMarkup);\r\n\r\ngalleryList.addEventListener('click', onLightboxOpenClick);\r\nbtnCloseEl.addEventListener('click', imageClose);\r\noverlay.addEventListener('click', imageClose);\r\n\r\nfunction makeGalleryMarkup(images) {\r\n  return images\r\n    .map(({ preview, original, description }) => {\r\n      return `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>`;\r\n    })\r\n    .join('');\r\n}\r\n\r\nconst arrGalleryList = galleryList.querySelectorAll('.gallery__image');\r\nconst arrGalleryListCopy = [...arrGalleryList];\r\n\r\nconsole.log(arrGalleryList);\r\n\r\nfunction onLightboxOpenClick(e) {\r\n  e.preventDefault();\r\n\r\n  const imgClick = e.target;\r\n  if (imgClick.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n\r\n  imageOpen(imgClick.dataset.source, imgClick.alt, imgClick);\r\n}\r\n\r\nfunction imageOpen(source, alt, image) {\r\n  lightbox.classList.add('is-open');\r\n\r\n  lightboxImgEl.src = source;\r\n  lightboxImgEl.alt = alt;\r\n\r\n  lightboxImgEl.dataset.index = arrGalleryListCopy.indexOf(image);\r\n\r\n  window.addEventListener('keydown', onLightboxChangeByKey);\r\n}\r\n\r\nfunction imageClose() {\r\n  lightbox.classList.remove('is-open');\r\n\r\n  lightboxImgEl.src = '';\r\n  lightboxImgEl.alt = '';\r\n\r\n  lightboxImgEl.removeAttribute('data-index');\r\n\r\n  window.removeEventListener('keydown', onLightboxChangeByKey);\r\n}\r\n\r\nfunction onLightboxChangeByKey(e) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  const ARROW_LEFT_KEY_CODE = 'ArrowLeft';\r\n  const ARROW_RIGHT_KEY_CODE = 'ArrowRight';\r\n\r\n  if (e.code === ESC_KEY_CODE) {\r\n    imageClose();\r\n  }\r\n\r\n  if (e.code === ARROW_LEFT_KEY_CODE) {\r\n    lightboxImageMove(-1);\r\n  }\r\n\r\n  if (e.code === ARROW_RIGHT_KEY_CODE) {\r\n    lightboxImageMove(1);\r\n  }\r\n}\r\n\r\nfunction lightboxImageMove(step) {\r\n  const currentIndex = Number(lightboxImgEl.dataset.index);\r\n  let afterStepIndex = currentIndex + step;\r\n\r\n  if (afterStepIndex < 0) {\r\n    afterStepIndex = arrGalleryListCopy.length - 1;\r\n  }\r\n\r\n  if (afterStepIndex > arrGalleryListCopy.length - 1) {\r\n    afterStepIndex = 0;\r\n  }\r\n\r\n  lightboxImgEl.src = arrGalleryListCopy[afterStepIndex].dataset.source;\r\n  lightboxImgEl.alt = arrGalleryListCopy[afterStepIndex].alt;\r\n  lightboxImgEl.dataset.index = afterStepIndex;\r\n}\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}